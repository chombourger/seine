distribution:
    source: debian
    release: buster
    architecture: amd64

playbook:
    -  name: test-image
       tasks:
           - name: install kernel
             apt:
                 name: linux-image-amd64
                 state: present
                 update_cache: true
           - name: install vim
             apt:
                 name: vim
                 state: present
             become: true

image:
    filename: test-image.img
    table: gpt
    partitions:
        - label: rootfs
          type: ext4
          size: 750MiB
          where: /
          flags:
              - boot
              - primary
        - label: data
          type: ext4
          where: /var
